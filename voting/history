eth.accounts
eth.getBalance(eth.accounts[0])
var candidateNames = ["Zhangsan", "Lisi"];
var votingContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"getWinnerId","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"votes","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"candidate","type":"bytes32"}],"name":"totalVotesFor","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"candidates","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"candidate","type":"bytes32"}],"name":"validCandidate","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"candidate","type":"bytes32"}],"name":"voteForCandidate","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"candidateNames","type":"bytes32[]"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]);
var voting = votingContract.new(
   candidateNames,
   {
     from: web3.eth.accounts[0], 
     data: '0x608060405234801561001057600080fd5b506040516105e13803806105e1833981018060405281019080805182019291905050506000816000908051906020019061004b9291906100bf565b50600090505b6000805490508110156100b857600060016000808481548110151561007257fe5b90600052602060002001546000191660001916815260200190815260200160002060006101000a81548160ff021916908360ff1602179055508080600101915050610051565b5050610137565b828054828255906000526020600020908101928215610101579160200282015b828111156101005782518290600019169055916020019190600101906100df565b5b50905061010e9190610112565b5090565b61013491905b80821115610130576000816000905550600101610118565b5090565b90565b61049b806101466000396000f300608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630aea68061461007d5780632b38cd96146100ae5780632f265cf7146100f95780633477ee2e14610144578063392e66781461018d578063cc9ab267146101d6575b600080fd5b34801561008957600080fd5b50610092610221565b604051808260ff1660ff16815260200191505060405180910390f35b3480156100ba57600080fd5b506100dd60048036038101908080356000191690602001909291905050506102f6565b604051808260ff1660ff16815260200191505060405180910390f35b34801561010557600080fd5b506101286004803603810190808035600019169060200190929190505050610316565b604051808260ff1660ff16815260200191505060405180910390f35b34801561015057600080fd5b5061016f60048036038101908080359060200190929190505050610363565b60405180826000191660001916815260200191505060405180910390f35b34801561019957600080fd5b506101bc6004803603810190808035600019169060200190929190505050610386565b604051808215151515815260200191505060405180910390f35b3480156101e257600080fd5b5061020560048036038101908080356000191690602001909291905050506103e5565b604051808260ff1660ff16815260200191505060405180910390f35b6000806000806000925060009150600090505b6000805490508160ff1610156102ed5760016000808360ff1681548110151561025957fe5b90600052602060002001546000191660001916815260200190815260200160002060009054906101000a900460ff1660ff168260ff161115156102e05780925060016000808360ff168154811015156102ae57fe5b90600052602060002001546000191660001916815260200190815260200160002060009054906101000a900460ff1691505b8080600101915050610234565b82935050505090565b60016020528060005260406000206000915054906101000a900460ff1681565b60006001151561032583610386565b151514151561033357600080fd5b60016000836000191660001916815260200190815260200160002060009054906101000a900460ff169050919050565b60008181548110151561037257fe5b906000526020600020016000915090505481565b600080600090505b6000805490508110156103da5782600019166000828154811015156103af57fe5b90600052602060002001546000191614156103cd57600191506103df565b808060010191505061038e565b600091505b50919050565b6000600115156103f483610386565b1515141561046a576001806000846000191660001916815260200190815260200160002060008282829054906101000a900460ff160192506101000a81548160ff021916908360ff16021790555060016000836000191660001916815260200190815260200160002060009054906101000a9050505b9190505600a165627a7a723058205ce8584d631b35d426e71bfd4e754d7abfa102234710b2a2d03fb944b6ded7d10029', 
     gas: '4700000'
   }, function (e, contract){
    console.log(e, contract);
    if (typeof contract.address !== 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
 })
eth.getBalance(eth.accounts[0])
candidateNames
voting.totalVotesFor(candidateNames[0])
voting.voteForCandidate.sendTransaction(candidateNames[0],{from:eth.accounts[0],gas:4700000})
voting.totalVotesFor(candidateNames[0])
voting.voteForCandidate.sendTransaction(candidateNames[1],{from:eth.accounts[0],gas:4700000})
voting.totalVotesFor(candidateNames[1])
voting.getWinnerId()
candidateNames[1]